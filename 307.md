# 確率変数

* 確率変数とは確率（確率分布）によって値の決まる変数
* 確率変数は値の取りうる確率を`P`、確率変数の期待値を`E`、確率変数の分散を`V`という記号で表現する
* 確率変数は離散型確率変数、連続型確率変数に分割できる

> 変数とは何かしらの具体的な値を持ちます。確率変数とはその具体的な値と、その値の出現する確率（確率分布）を持ちます。

---

## 確率変数と確率の表記

* ある確率変数 X について、具体的な値である a を取りうる確率が Y の場合、次のように記述する

```
P(X=a) = Y
```

* たとえばサイコロの出目を確率変数Xとした場合、1が出る確率は以下のように記述できる

```
P(X=1) = 1/6
```

* あるいは以下のように確率変数X を省略して記述することもある
  
```
P(1) = 1/6
```

---

## 確率分布

* 確率分布とは、確率変数のとりうる値とその確率の対応を表すもの
* たとえばサイコロの出目を確率変数Xで表す場合、確率分布は以下のように表現できる

<img src="img/289.png" width="400px">

---

## 確率変数の期待値

* 確率変数のとりうる値の平均値を期待値と呼ぶ
* 確率変数の期待値は `E` を使って記述する
* ある確率変数 X の期待値がAの場合、以下のように記述する

```
E(X) = A
```

* たとえばサイコロの出目を確率変数Xで表す場合、その期待値 `E` は以下のようになる
  
```
E(X) = (1 * 1/6) + (2 * 1/6) + (3 * 1/6) + (4 * 1/6) + (5 * 1/6) + (6 * 1/6) 
     = 3.5
```

### 確率変数の期待値の性質

* X、Yを確率変数、Cを定数とすると、期待値Eの演算は以下のようになる

```
E(C) = C
E(X + C) = E(X) + C
E(X * C) = C * E(X)
E(X + Y) = E(X) + E(Y)
```

* たとえばサイコロの出目を確率変数Xとし、2 * X + 1　の期待値を求めると次のようになる

```
E(X) = 3.5
E(2 * X + 1) = 2 * E(X) + 1 = 2 * 3.5 + 1 = 8
```

> 期待値の性質を理解することで、以下のように計算するよりも簡単になることを確認してください。

```
E(2 * X + 1) = (3 * 1/6) + (5 * 1/6) + (7 * 1/6) + (9 * 1/6) + (11 * 1/6) + (13 * 1/6) 
     = 8
```
---

## 確率変数の分散

* 確率変数のとりうる値にはばらつき（分散）がある
* 確率変数の分散 `V` を使って記述する
* ある確率変数 X の分散がAの場合、以下のように記述する

```
V(X) = A
```

* たとえばサイコロの出目を確率変数Xで表す場合、その分散 `V` は以下のようになる
  
```
V(X) = ((1 - 3.5)^2 + (2 - 3.5)^2 + (3 - 3.5)^2  + (4 - 3.5)^2  + (5 - 3.5)^2  + (6 - 3.5)^2) / 6
     = 2.916667
```

### 確率変数の分散の性質

* Xを確率変数、Cを定数とすると、分散Vの演算は以下のようになる

```
V(C) = 0
V(X + C) = V(X)
V(X * C) = C^2 * V(X)
```

* たとえばサイコロの出目を確率変数Xとし、2 * X + 1　の分散を求めると次のようになる

```
V(X) = 2.916667
V(2 * X + 1) = 2^2 * V(X) = 4 * 2.916667 = 11.66667
```

> 分散の性質を理解することで、以下のように計算するよりも簡単になることを確認してください。

```
E(2 * X + 1) = 8
V(2 * X + 1) = ((3 - 8)^2 + (5 - 8)^2 + (7 - 8)^2  + (9 - 8)^2  + (11 - 8)^2  + (13 - 8)^2) / 6
     = 11.66667
```

---

## 確率変数の期待値と分散の関係

* 確率変数の分散は、以下のように確率変数の期待値で計算できる

```
V(X) = E(X^2) - (E(X))^2
```

> 確率変数Xの分散は、確率変数Xの2乗値の期待値から確率変数Xの期待値の2乗値を引いたものになります。

* たとえばサイコロの出目を確率変数Xで表す場合、その分散 `V` は以下のようになる

```
E(X) = 3.5
(E(X))^2 = 3.5 * 3.5 = 12.25

E(X^2) =  (1 * 1/6) + (4 * 1/6) + (9 * 1/6) + (16 * 1/6) + (25 * 1/6) + (36 * 1/6) 
     = 15.16667

V(X) = E(X^2) - (E(X))^2 = 15.16667 - 12.25 = 2.91667
```
 
> 以前に求めたサイコロの出目の分散と一致していることがわかります。

---

## エクササイズ

### 設問1

2枚のコインを投げて表の出た枚数を確率変数Xとします。

* 確率変数Xの確率分布を表にまとめてください。
* 確率 `P(X=0)` を求めてください。
* 確率 `P(X<=1)` を求めてください。
* 期待値 `E(X)` を求めてください。
* 分散 `V(X)` を求めてください。
* 期待値 `E(2 * X + 5)` を求めてください。
* 分散 `V(2 * X + 5)` を求めてください。

### 設問2

2つのサイコロの出た目の和を確率変数Xとします。

* 確率変数Xの確率分布を表にまとめてください。
* 確率 `P(X=1)` を求めてください。
* 確率 `P(X<=3)` を求めてください。
* 確率 `P(5<X<=8)` を求めてください。
* 期待値 `E(X)` を求めてください。
* 分散 `V(X)` を求めてください。
* 期待値 `E(5 * X + 10)` を求めてください。
* 分散 `V(5 * X + 10)` を求めてください。

### 設問3

以下の確率分布に従うサイコロがあります。

* 期待値 `E(X)` を求めてください。
* 分散 `V(X)` を求めてください。
