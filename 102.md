# 1変数データの要約 - 平均値、中央値、最頻値

* データ（1つの変数）を要約するにはグラフ化する方法と代表値（統計量）で表す方法の2つがある
* 代表値（統計量）には平均値、中央値、最頻値などを用いることができる
* 代表値には他にも最大値や最小値、分散や標準偏差などがある

> データをグラフ化する方法は後述します。ここでは平均値、中央値、最頻値について学習します。

---

## 平均値 - mean

* データの合計を個数で割ったもの

<img src="img/101.png" width="140px">

> `μ`はミューと読みます。`Σ` はシグマと読みます。

## 中央値 - median

* データを小さいもの（大きいもの）から順に並べたときの中央の値
* データの個数が偶数の場合は、中央値が2つになるため、2つの値の平均値を使う

## 最頻値 - mode

* データの出現回数の最も多いもの


## （例） 20人のテスト結果の平均値、中央値、最頻値

``` 
84, 72, 86, 76, 68, 68, 72, 66, 78, 84, 74, 60, 86, 76, 74, 76, 70, 82, 76, 78
```

### 平均値

```
1506 / 20
75.3
```

### 中央値

```
60 66 68 68 70 72 72 74 74 76 76 76 76 78 78 82 84 84 86 86
                             ↑
76
```

### 最頻値

```
60 66 68 70 72 74 76 78 82 84 86 
 1  1  2  1  2  2  4  2  1  2  2 
                   ↑
76
```


---

## Rプログラミング

### sum関数 - st1.R

* ベクトルの合計を求める 

```r
score <- c(84, 72, 86, 76, 68, 68, 72, 66, 78, 84, 74, 60, 86, 76, 74, 76, 70, 82, 76, 78)
sum(score)
```

#### 実行結果

```r
> score <- c(84, 72, 86, 76, 68, 68, 72, 66, 78, 84, 74, 60, 86, 76, 74, 76, 70, 82, 76, 78)
> sum(score)
[1] 1506
```

### length関数 - st2.R

* ベクトルの要素数を求める 

```r
score <- c(84, 72, 86, 76, 68, 68, 72, 66, 78, 84, 74, 60, 86, 76, 74, 76, 70, 82, 76, 78)
length(score)
```

#### 実行結果

```r
> score <- c(84, 72, 86, 76, 68, 68, 72, 66, 78, 84, 74, 60, 86, 76, 74, 76, 70, 82, 76, 78)
> length(score)
[1] 20
```

### mean関数 - st3.R

* ベクトルの平均を求める 

```r
score <- c(84, 72, 86, 76, 68, 68, 72, 66, 78, 84, 74, 60, 86, 76, 74, 76, 70, 82, 76, 78)
mean(score)
# sum(score) / length(score)
```

#### 実行結果

```r
> score <- c(84, 72, 86, 76, 68, 68, 72, 66, 78, 84, 74, 60, 86, 76, 74, 76, 70, 82, 76, 78)
> mean(score)
[1] 75.3
```

### sort関数 - st4.R

* ベクトルの要素をソートする

```r
score <- c(84, 72, 86, 76, 68, 68, 72, 66, 78, 84, 74, 60, 86, 76, 74, 76, 70, 82, 76, 78)
sort(score)
# sort(score, decreasing = T)
```

> `decreasing` 引数に `TRUE` を指定すると降順にソートできます。

#### 実行結果

```r
> score <- c(84, 72, 86, 76, 68, 68, 72, 66, 78, 84, 74, 60, 86, 76, 74, 76, 70, 82, 76, 78)
> sort(score)
 [1] 60 66 68 68 70 72 72 74 74 76 76 76 76 78 78 82 84 84 86 86
```


### median関数 - st5.R

* ベクトルの要素をソートする

```r
score <- c(84, 72, 86, 76, 68, 68, 72, 66, 78, 84, 74, 60, 86, 76, 74, 76, 70, 82, 76, 78)
median(score)
```

> `decreasing` 引数に `TRUE` を指定すると降順にソートできます。

#### 実行結果

```r
> score <- c(84, 72, 86, 76, 68, 68, 72, 66, 78, 84, 74, 60, 86, 76, 74, 76, 70, 82, 76, 78)
> median(score)
[1] 76
```

### table関数 - st6.R

* クロス集計を行う
* データの出現回数をカウントできる

> クロス集計とは2つのカテゴリーのデータで度数を表したものです。詳細は後述します。

```r
score <- c(84, 72, 86, 76, 68, 68, 72, 66, 78, 84, 74, 60, 86, 76, 74, 76, 70, 82, 76, 78)
table(score)
```

#### 実行結果

```r
> table(score)
score
60 66 68 70 72 74 76 78 82 84 86 
 1  1  2  1  2  2  4  2  1  2  2 
 ```

### which.max関数 - st7.R

* ベクトルの最大値のインデックス（要素番号）を返す

```r
score <- c(84, 72, 86, 76, 68, 68, 72, 66, 78, 84, 74, 60, 86, 76, 74, 76, 70, 82, 76, 78)
which.max(table(score))
# names(which.max(table(score)))
```

> `names` 関数でテーブルのラベルのみを表示すれば最頻値となります。

#### 実行結果

```r
> score <- c(84, 72, 86, 76, 68, 68, 72, 66, 78, 84, 74, 60, 86, 76, 74, 76, 70, 82, 76, 78)
> which.max(table(score))
76 
 7 
```
